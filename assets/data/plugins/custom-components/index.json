{"hash":"e86955afa0ce585b73920fcf4ac190f3cebdef79","data":{"markdownPage":{"id":"df492c8d218892319f1a8028f5a72967","title":"Custom Components","description":"","path":"/plugins/custom-components/","timeToRead":1,"content":"<h1 id=\"custom-components\"><a href=\"#custom-components\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Custom Components</h1>\n<p>bridge. allows you to define new entity components. In order to get started, create a <code>components/</code> folder inside of your project or a <code>&#x3C;PLUGIN NAME>/components</code> inside of your plugin folder and place a first JavaScript (.js) file inside of it. The name of the file does not matter.</p>\n<h3 id=\"execution-scope\"><a href=\"#execution-scope\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Execution Scope</h3>\n<p>JavaScript files placed inside of this folder have access to the <code>Bridge</code> object. Available methods:</p>\n<ul>\n<li><code>Bridge.register</code> registers a custom component. This method expects a JavaScript class with a static property <code>component_name</code> and the two instance methods <code>onApply(component_data, location)</code> &#x26; <code>onPropose()</code>.</li>\n<li><code>Bridge.report(string)</code> opens an information window that contains the given string</li>\n</ul>\n<h3 id=\"onapplycomponent_data-location\"><a href=\"#onapplycomponent_data-location\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>onApply(component_data, location)</code></h3>\n<p><code>onApply(component_data, location)</code> receives the <code>component_data</code> entered by the user and where the component was placed (<code>location</code>). Can be \"components\" or the name of a component group. This method must return an entity object to merge with the actual file. Must return a Minecraft entity.</p>\n<h3 id=\"onpropose\"><a href=\"#onpropose\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>onPropose()</code></h3>\n<p><code>onPropose()</code> must return an auto-completion object. It should only have one property (named your custom component name) which should replicate the structure of the custom component. <a href=\"https://github.com/solvedDev/bridge./blob/master/plugin_docs/auto_completions/main.md\" target=\"_blank\" rel=\"noopener noreferrer\">Read more about bridge.'s auto-completion JSON format.</a></p>\n<h3 id=\"example\"><a href=\"#example\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Example</h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token maybe-class-name\">Bridge</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">register</span><span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">class</span> <span class=\"token class-name\">DemoComponent</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">static</span> component_name <span class=\"token operator\">=</span> <span class=\"token string\">'bridge:demo_npc'</span>\n\n\t\t<span class=\"token function\">onApply</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> trade_table<span class=\"token punctuation\">,</span> display_name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token dom variable\">location</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token string\">'minecraft:entity'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\tcomponent_groups<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t<span class=\"token punctuation\">[</span><span class=\"token maybe-class-name\">DemoComponent</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">component_name</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t\t<span class=\"token string\">'minecraft:trade_table'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t\t\tdisplay_name<span class=\"token operator\">:</span> display_name<span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t\ttable<span class=\"token operator\">:</span> trade_table<span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token string\">'minecraft:behavior.trade_with_player'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t\t\tpriority<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token string\">'minecraft:behavior.look_at_trading_player'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t\t\tpriority<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token function\">onPropose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token punctuation\">[</span><span class=\"token maybe-class-name\">DemoComponent</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">component_name</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\tdisplay_name<span class=\"token operator\">:</span> <span class=\"token string\">'$general.translatable_text'</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\ttrade_table<span class=\"token operator\">:</span> <span class=\"token string\">'$dynamic.trade_table_files'</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span></code></pre>\n","sidebar":"plugins","next":"","prev":"","headings":[{"depth":1,"value":"Custom Components","anchor":"#custom-components"},{"depth":3,"value":"Execution Scope","anchor":"#execution-scope"},{"depth":3,"value":"onApply(component_data, location)","anchor":"#onapplycomponent_data-location"},{"depth":3,"value":"onPropose()","anchor":"#onpropose"},{"depth":3,"value":"Example","anchor":"#example"}]},"allMarkdownPage":{"edges":[{"node":{"path":"/editor/projects/","title":"Projects"}},{"node":{"path":"/plugins/json/themes/","title":"Themes"}},{"node":{"path":"/editor/getting-started/","title":"Getting Started"}},{"node":{"path":"/plugins/json/snippets/","title":"Snippets"}},{"node":{"path":"/plugins/json/presets/","title":"Presets"}},{"node":{"path":"/plugins/json/lightning-cache/","title":"Lightning Cache"}},{"node":{"path":"/plugins/other/default-file-types/","title":"Default File Types"}},{"node":{"path":"/plugins/modules/windows/","title":"@bridge/windows"}},{"node":{"path":"/plugins/modules/utils/","title":"@bridge/utils"}},{"node":{"path":"/plugins/modules/","title":"Plugin Modules"}},{"node":{"path":"/plugins/modules/sidebar/","title":"@bridge/sidebar"}},{"node":{"path":"/plugins/modules/ui/","title":"@bridge/ui"}},{"node":{"path":"/plugins/modules/path/","title":"@bridge/path"}},{"node":{"path":"/plugins/modules/globals/","title":"@bridge/globals"}},{"node":{"path":"/plugins/modules/fs/","title":"@bridge/fs"}},{"node":{"path":"/plugins/modules/footer/","title":"@bridge/notification"}},{"node":{"path":"/plugins/modules/fetch-definition/","title":"@bridge/fetch-definition"}},{"node":{"path":"/plugins/","title":"Plugin API"}},{"node":{"path":"/plugins/modules/env/","title":"@bridge/env"}},{"node":{"path":"/plugins/auto-completions/","title":"Auto-Completions"}},{"node":{"path":"/plugins/auto-completions/dynamic-references/","title":"Dynamic References"}},{"node":{"path":"/editor/features/","title":"Feature Overview"}},{"node":{"path":"/editor/","title":"Editor"}},{"node":{"path":"/plugins/custom-commands/","title":"Custom Commands"}},{"node":{"path":"/plugins/custom-components/","title":"Custom Components"}}]}},"context":{}}